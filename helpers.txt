
CONNECTION ROADMAP FOR WEBRTC : 

IF CLIENT1 MAKES A CALL TO CLIENT2 :

CLIENT1 : SETS A NEW RTCPEERCONNECTION WITH ICESERVER CONFIGURATION(WITH A STUN SERVER)

CLIENT1 : CREATES A STREAM OR LOCALSTREAM OF HIS VIDEO AND AUDIO

CLIENT1 : ADDS LOCALSTREAM TO THE RTCPEERCONNECTION

CLIENT1 : LISTEN FOR ICE CANDIDATES FROM CLIENT2 AND THE STUN SERVER (THE PEER_CONNECTION LISTENS FOR THE ICECANDIDATES)

CLIENT1 : MAKES AN SDP OFFER TO CLIENT2 AFTER SETTING THAT TO THE LOCAL_DESCRIPTION OF THE PEER_CONNECTION AND THE SIGNALLING CHANNEL SENDS THAT OFFER 

CLIENT2 : THE SIGNALLING CHANNEL RECIEVES THE OFFER FROM CLIENT1 AND SETS THE REMOTE_DESCRIPTION OF THE PEER_CONNECTION TO THE OFFER

CLIENT2 : ADDS HIS OWN LOCALSTREAM TO THE PEER_CONNECTION

CLIENT2 : LISTEN FOR ICE CANDIDATES FROM CLIENT1 AND THE STUN SERVER

CLIENT2 : MAKES AN SDP ANSWER TO CLIENT1 AFTER SETTING THAT TO THE LOCAL_DESCRIPTION OF THE PEER_CONNECTION AND THE SIGNALLING CHANNEL SENDS THAT ANSWER

CLIENT1 : THE SIGNALLING CHANNEL RECIEVES THE ANSWER FROM CLIENT2 AND SETS THE REMOTE_DESCRIPTION OF THE PEER_CONNECTION TO THE ANSWER

CLIENT1 : WHEN THE PEER_CONNECTION RECIEVES THE ICE CANDIDATES FROM THE STUN SERVER, THE SIGNALLING CHANNEL SENDS THE ICE CANDIDATES TO THE CLIENT2.

CLIENT2 : THE SIGNALLING CHANNEL RECIEVES THE ICE CANDIDATES FROM CLIENT1 AND ADDS THEM TO THE PEER_CONNECTION

AND VICE VERSA HAPPENS FOR THE LAST 2 STEPS.

THIS WAY, THE ICE CANDIDATES AND SDP ARE EXCHANGED AND THE PEER_CONNECTION IS SET UP TO COMMUNICATE WITH CLIENT2.